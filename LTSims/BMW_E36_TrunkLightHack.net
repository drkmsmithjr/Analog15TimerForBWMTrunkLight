* C:\Users\Mark.Smith\Dropbox\personal\SurfnCircuits\Analog15TimerForBWMTrunkLight\LTSims\BMW_E36_TrunkLightHack.asc
R3 N002 N003 1k
R4 CAP 0 9MEG
C§Bat N002 CAP 100µ
V2 N001 0 {Car_battery}
V3 N009 0 PULSE(0 5 10u 5n 5n 2000 2400) Rser=10
R6 N002 0 100k
S1 N002 N001 N009 0 MySwitch2
M2 LAMP N003 N002 N002 FDS4559_P
R§LAMP1 LAMP 0 14
Q1 N003 N008 0 0 2N3904
V§TL1 N006 0 2.5
R2 Vref 0 600k
R8 N008 N007 10k
XTL2 Vref N006 N003 0 N007 level.2 Avol=1Meg GBW=0.1Meg Slew=1Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
D3 0 N003 1N4148
Q3 Vref N005 0 0 2N3904
M1 N002 0 CAP CAP 2N7002
D2 CAP N002 UDZV12B
C1 N002 0 1µF
R1 N003 N005 10k
R5 N005 0 1k
C2 N005 0 .1µ
M3 N004 CAP Vref Vref 2N7002
R7 N002 N004 1k
C3 Vref 0 .1µ
C4 CAP 0 .1µ
.model D D
.lib C:\Users\Mark.Smith\Documents\LTCspice\lib\cmp\standard.dio
.model NPN NPN
.model PNP PNP
.lib C:\Users\Mark.Smith\Documents\LTCspice\lib\cmp\standard.bjt
.model NMOS NMOS
.model PMOS PMOS
.lib C:\Users\Mark.Smith\Documents\LTCspice\lib\cmp\standard.mos
.param Tdel = 10n HYST = .0000001  Car_battery = 12
.model MySwitch2 SW(Ron=.01 Roff=10Meg Vt=2.5 Vh=.05)
.tran 0 4500 0 10m
* TL431 Equivalent circuit
* .step param Car_battery list 12v 40v -12v
* Step load is Nominal Voltage, Load Dump Voltage, and Reverse Voltage
* .ic V(BAT) = 1.5
* TL431 MODEL
* CAR Power Switch to LAMP Circuit
.lib UniversalOpamps2.sub
.backanno
.end
